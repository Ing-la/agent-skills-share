<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <style>
    /* xhs-page-bg: #faf6f0 */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      width: 1242px;
      height: 1800px;
      min-height: 100%;
      font-family: "PingFang SC", "Source Han Sans SC", "Microsoft YaHei", sans-serif;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }
    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 1242px;
      height: 1800px;
      background-color: #faf6f0;
      background-image:
        radial-gradient(circle at 20% 30%, rgba(220, 210, 195, 0.3) 0%, transparent 50%),
        radial-gradient(circle, #a89888 1.5px, transparent 1.5px);
      background-size: 100% 100%, 24px 24px;
      pointer-events: none;
      z-index: -1;
    }
    /* 封面与内容页保持相同背景，不叠加渐变 */
    .skillshare-body {
      flex: 1;
      min-height: 0;
      width: 860px;
      margin: 56px 52px 72px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      overflow-y: auto;
    }
    body.role-cover .skillshare-body { text-align: center; }
    body.role-ending .skillshare-body { text-align: left; }
    .skillshare-meta {
      font-size: 26px;
      color: #999;
      letter-spacing: 0.08em;
      margin-bottom: 24px;
    }
    body.role-cover .skillshare-meta,
    body.role-content .skillshare-meta,
    body.role-ending .skillshare-meta { display: none; }
    .skillshare-tag {
      display: flex;
      align-items: center;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(0,0,0,0.08);
    }
    body.role-cover .skillshare-tag { justify-content: center; border-bottom: none; margin-bottom: 28px; padding-bottom: 0; }
    body.role-ending .skillshare-tag { justify-content: flex-start; border-bottom: none; margin-bottom: 28px; padding-bottom: 0; }
    .emoji {
      font-size: 56px;
      line-height: 1;
      margin-bottom: 20px;
    }
    body.role-cover .emoji { font-size: 100px; margin-bottom: 32px; }
    body.role-ending .emoji { font-size: 56px; }
    .tag-title {
      font-size: 52px;
      font-weight: 700;
      color: #1a1a1a;
      letter-spacing: 0.02em;
    }
    body.role-cover .tag-title { font-size: 72px; }
    body.role-ending .tag-title { font-size: 52px; }
    .tag-title:empty { display: none; }
    .skillshare-tag:has(.tag-title:empty) { display: none; }
    .content {
      font-size: 42px;
      line-height: 1.85;
      color: #333;
      letter-spacing: 0.02em;
      white-space: pre-wrap;
      word-break: break-word;
    }
    body.role-cover .content { font-size: 78px; font-weight: 800; color: #1a1a1a; line-height: 1.4; letter-spacing: 0.04em; }
    .skillshare-line {
      margin-bottom: 28px;
      padding-left: 28px;
      position: relative;
    }
    .skillshare-line::before {
      content: "●";
      position: absolute;
      left: 0;
      color: #333;
      font-size: 24px;
      top: 4px;
    }
    .ing-watermark {
      position: absolute;
      bottom: 200px;
      right: 48px;
      width: 560px;
      height: 380px;
      pointer-events: none;
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
    }
    .ing-watermark svg { width: 100%; height: 100%; }
    .skills-share-label {
      position: absolute;
      top: 48px;
      left: 72px;
      font-family: "Press Start 2P", monospace;
      font-size: 21px;
      color: #b88a0a;
      letter-spacing: 0.5px;
      transform: scaleY(1.333);
      transform-origin: left top;
      pointer-events: none;
    }
    .skillshare-line.highlight {
      font-size: 42px;
      font-weight: 500;
      color: #1a1a1a;
      padding-left: 0;
    }
    .skillshare-line.highlight::before { display: none; }
    .cover-skill-badge {
      display: inline-block;
      font-family: "PingFang SC", "Source Han Sans SC", "Microsoft YaHei", sans-serif;
      font-size: 50px;
      font-weight: 600;
      color: #1a1a1a;
      letter-spacing: 0.08em;
      margin-top: 28px;
    }
    .cover-skill-badge:empty { display: none; }
    .xhs-bottom-buffer { flex: 0 0 140px; min-height: 140px; }
  </style>
</head>
<body class="role-{{role}}">
  <div class="skills-share-label">&lt; skills share</div>
  <div class="skillshare-body">
    <div class="skillshare-meta"></div>
    {{EMOJI_BLOCK}}
    <div class="skillshare-tag">
      <span class="tag-title">{{title}}</span>
    </div>
    <div class="content" id="skillshare-content">{{content}}</div>
    {{SKILL_BADGE}}
  </div>
  <div class="xhs-bottom-buffer"></div>
  <div class="ing-watermark" aria-hidden="true">
    <svg viewBox="0 0 360 340" fill="none" xmlns="http://www.w3.org/2000/svg">
      <text x="350" y="235" text-anchor="end" font-family="'Press Start 2P', monospace" font-size="128"
            fill="rgba(150, 130, 105, 0.2)" stroke="none">Ing</text>
    </svg>
  </div>
  <script>
    (function() {
      var el = document.getElementById('skillshare-content');
      if (!el) return;
      if ((document.body.className.indexOf('role-content') < 0 && document.body.className.indexOf('role-ending') < 0) || !el.textContent.trim()) return;
      var text = el.innerHTML.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      var paras = text.split(/\n\n+/);
      var HIGHLIGHT_THRESHOLD = 25;
      el.innerHTML = paras.map(function(p) {
        var trimmed = p.replace(/\s+/g, ' ').trim();
        var isShort = trimmed.length <= HIGHLIGHT_THRESHOLD && paras.length > 1;
        var cls = 'skillshare-line' + (isShort ? ' highlight' : '');
        return '<div class="' + cls + '">' + p.replace(/\n/g, '<br>') + '</div>';
      }).join('');
    })();
  </script>
</body>
</html>
